<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>品檢報告（安拓）</title>
<style>
body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; padding: 16px; }
.card { max-width: 1100px; margin: 0 auto; }
table { width: 100%; border-collapse: collapse; margin: 12px 0; }
th, td { border: 1px solid #ddd; padding: 8px; vertical-align: top; }
th { background: #f7f7f7; }
.row { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
input { padding: 8px; border: 1px solid #ccc; border-radius: 8px; }
.btn { padding: 10px 14px; border: none; border-radius: 10px; background: #2563eb; color: #fff; cursor: pointer; }
.muted { color: #666; font-size: 13px; }
@media print { .noprint { display: none; } body { padding: 0; } }
</style>
</head>
<body>
<div class="card">
<h2>品檢報告（安拓）</h2>
<div class="noprint row">
<input id="filterText" placeholder="關鍵字（供應商/料號/圖號/檢驗人員）" style="flex:1" />
<button class="btn" id="btnReload">重新載入</button>
<button class="btn" id="btnClear">清除關鍵字</button>
<button class="btn" id="btnPrint">列印 / 存成 PDF</button>
<a class="btn" href="index.html">回現場輸入</a>
</div>
<p class="muted noprint">首次使用會詢問通關碼；之後自動記住。</p>


<table id="tbl">
<thead>
<tr>
<th style="width:18%">基本資訊</th>
<th style="width:22%">料件資訊</th>
<th style="width:44%">量測明細</th>
<th style="width:16%">結果</th>
</tr>
</thead>
<tbody id="tbody"></tbody>
</table>
<p id="msg" class="muted"></p>
</div>


<script>
const tbody = document.getElementById('tbody');
const filterText = document.getElementById('filterText');
const msg = document.getElementById('msg');


document.getElementById('btnPrint').addEventListener('click', () => window.print());
document.getElementById('btnReload').addEventListener('click', load);
document.getElementById('btnClear').addEventListener('click', () => { filterText.value = ''; render(); });


filterText.addEventListener('input', render);


let records = [];


// 把任何格式標準化成陣列
function normalizeRecords(data) {
if (Array.isArray(data)) return data;
if (data && Array.isArray(data.record)) return data.record;
</html>